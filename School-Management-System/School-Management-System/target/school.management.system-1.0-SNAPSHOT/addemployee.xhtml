<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:p="http://primefaces.org/ui">
    <f:view>
        <f:metadata>
            <f:viewParam name="empId" value="#{addEmployee.employeeId}"/>
            <f:event type="preRenderView" listener="#{addEmployee.before}"/>
        </f:metadata>
    </f:view>
    <h:head>
        <h:outputStylesheet name="bootstrap.min.css" library="css"/>
        <h:outputStylesheet name="applicationcss.css" library="css"/>
    </h:head>
    <h:body>
        <b:container fluid="true">
            <h:form prependId="false">
                <b:growl id="growl" showDetail="true" showSummary="false" allowDismiss="true" placementAlign="center"/>
                <b:panel collapsible="false" colMd="12" title="#{addEmployee.panelHeaderName}">
                    <b:row>
                        <b:column col-xs="12" col-sm="12" col-md="12" col-lg="12">
                            <b:panelGrid  colSpans="6,6" size="sm">
                                <b:inputText small-screen="full-width"  fieldSize="md" label="First Name" value="#{addEmployee.employee.person.firstName}" required="true" requiredMessage="Enter first name"/>
                                <b:inputText small-screen="full-width" fieldSize="md" label="Last Name" value="#{addEmployee.employee.person.lastName}" required="true" requiredMessage="Enter last name"/>
                                <b:inputText small-screen="full-width" fieldSize="md" label="Employee number" value="#{addEmployee.employee.employeeNumber}" required="true" requiredMessage="Enter the employee number"/>
                                <b:inputText small-screen="full-width" fieldSize="md" label="Designation" value="#{addEmployee.employee.designation}" required="true" requiredMessage="Enter designation number"/>
                                <b:inputText small-screen="full-width" fieldSize="md" label="Mobile Number" value="#{addEmployee.employee.person.mobileNumber}" required="true" requiredMessage="Enter mobile Number"/>
                                <b:inputText small-screen="full-width" fieldSize="md" label="Email" value="#{addEmployee.employee.person.email}" required="true"  requiredMessage="Enter email address" validatorMessage="Invalid email format">
                                    <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                                </b:inputText>
                                <b:inputText small-screen="full-width" fieldSize="md" label="Facebook Handle" value="#{addEmployee.employee.person.facebookHandle}"/>
                                <b:inputText small-screen="full-width" fieldSize="md" label="Twitter Handle" value="#{addEmployee.employee.person.twitterHandle}"/>
                            </b:panelGrid>
                        </b:column>
                    </b:row>
                    <p:separator/>
                    <p:dataTable value="#{addEmployee.employee.person.addresses}" var="address" paginator="false">
                        <p:column headerText="Address Type">
                            <h:outputText value="#{address.addressType}" />
                        </p:column>
                        <p:column headerText="Line1">
                            <b:inputText fieldSize="md" value="#{address.line1}" />
                        </p:column>
                        <p:column headerText="Line2">
                            <b:inputText fieldSize="md" value="#{address.line2}" />
                        </p:column>
                        <p:column headerText="Line3">
                            <b:inputText fieldSize="md" value="#{address.line3}" />
                        </p:column>
                        <p:column headerText="Suburb">
                            <b:inputText fieldSize="md" value="#{address.surbub}" />
                        </p:column>
                        <p:column headerText="PostalCode">
                            <b:inputText fieldSize="md" value="#{address.postalCode}"/>                
                        </p:column>
                    </p:dataTable> 
                    <f:facet name="footer">
                        <p:toolbar>
                            <f:facet name="right">
                                <p:commandButton value="Save" action="#{addEmployee.save(addEmployee.employee)}" icon="fa fa-fw fa-save" update="@form" ajax="false"/>
                            </f:facet>
                        </p:toolbar>
                    </f:facet>
                </b:panel>
            </h:form>
        </b:container>
    </h:body>
</html>